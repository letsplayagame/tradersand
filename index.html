<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Log</title>
    <style>
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .points-display {
            text-align: center;
            font-size: 24px;
            margin-bottom: 20px;
        }

        .points-positive {
            color: green;
        }

        .points-negative {
            color: red;
        }

        .points-message {
            text-align: center;
            margin: 10px 0;
            min-height: 20px;
        }

        .table-header {
            text-align: center;
            font-size: 20px;
            margin: 15px 0;
        }

        .trading-log {
            border: 1px solid #ccc;
            padding: 15px;
            margin-top: 20px;
        }

        .log-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .log-title {
            font-size: 18px;
            font-weight: bold;
        }

        .log-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .log-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 5px;
            border-bottom: 1px solid #eee;
        }

        .log-time {
            width: 80px;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 14px;
        }

        .log-emoji {
            font-size: 18px;
            width: 24px;
            text-align: center;
        }

        .log-name {
            flex: 0 0 100px;
        }

        .log-note {
            flex: 1;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 14px;
        }

        .log-checkbox {
            display: flex;
            align-items: center;
            gap: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="points-display">
            Points: <span id="pointsValue" class="points-positive">0</span> <span id="moneySymbols"></span>
        </div>

        <div id="pointsMessage" class="points-message">
        </div>

        <div class="table-header">
            ðŸ‘¼ ANGELS ðŸ‘¼
        </div>

        <div class="table-header">
            ðŸ˜ˆ DEMONS ðŸ˜ˆ
        </div>

        <div class="trading-log">
            <div class="log-header">
                <span class="log-title">Trading Log</span> Total Events: <span id="log-counter">0</span>
            </div>
            <div id="tradingLogList" class="log-list">
            </div>
        </div>
    </div>

    <script>
        let tradingLog = [];

        function updateLogDisplay() {
            const logList = document.getElementById('tradingLogList');
            logList.innerHTML = '';
            document.getElementById('log-counter').textContent = tradingLog.length;
            tradingLog.forEach(entry => {
                const logItem = document.createElement('div');
                logItem.className = 'log-item';
                logItem.innerHTML = `
                    <input type="text" class="log-time"
                           value="${entry.time}"
                           onchange="updateLogTime(${entry.id}, this.value)">
                    <span class="log-emoji">${entry.isAngel ? 'ðŸ‘¼' : 'ðŸ˜ˆ'}</span>
                    <span class="log-name">${entry.action}</span>
                    <input type="text" class="log-note" 
                           placeholder="Add note..." 
                           maxlength="256"
                           value="${entry.note}"
                           onchange="updateLogNote(${entry.id}, this.value)">
                    <label class="log-checkbox">
                        <input type="checkbox" 
                               ${entry.lucky ? 'checked' : ''}
                               onchange="updateLogLucky(${entry.id}, this.checked)">
                        ${entry.isAngel ? 'Unlucky' : 'Lucky'}
                    </label>
                `;
                logList.appendChild(logItem);
            });
        }

        function saveToLocalStorage() {
            localStorage.setItem('tradingLog', JSON.stringify(tradingLog));
        }

        function updateLogTime(id, newTime) {
            const entry = tradingLog.find(entry => entry.id === id);
            if (entry) {
                entry.time = newTime;
                saveToLocalStorage();
            }
        }

        function updateLogNote(id, newNote) {
            const entry = tradingLog.find(entry => entry.id === id);
            if (entry) {
                entry.note = newNote;
                saveToLocalStorage();
            }
        }

        function updateLogLucky(id, isLucky) {
            const entry = tradingLog.find(entry => entry.id === id);
            if (entry) {
                entry.lucky = isLucky;
                saveToLocalStorage();
            }
        }

        // Load saved data when page loads
        document.addEventListener('DOMContentLoaded', () => {
            const savedLog = localStorage.getItem('tradingLog');
            if (savedLog) {
                tradingLog = JSON.parse(savedLog);
                updateLogDisplay();
            }
        });
    </script>
</body>
</html>
